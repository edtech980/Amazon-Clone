{"version":3,"sources":["components/StateProvider.js","firebase.js","components/Header.js","components/Product.js","data/images.js","components/slider/Slider.js","components/Home.js","components/Homepage.js","components/reducer.js","components/Subtotal.js","components/CheckoutProduct.js","components/Checkout.js","components/Login.js","components/axios.js","components/Payment.js","components/Orders.js","components/App.js","index.js","components/slider/Slider.module.css"],"names":["StateContext","createContext","StateProvider","reducer","initialState","children","Provider","value","useReducer","useStateValue","useContext","app","initializeApp","apiKey","authDomain","projectId","storageBucket","messagingSenderId","appId","measurementId","db","getAnalytics","getFirestore","auth","getAuth","Header","basket","user","className","to","src","alt","type","onClick","signOut","email","length","Product","id","title","image","price","rating","dispatch","Array","fill","map","_","i","item","Slider","styles","container","easing","slideImages","slide","index","style","backgroundImage","Home","useState","Homepage","getBasketTotal","reduce","amount","state","action","findIndex","basketItem","newBasket","splice","console","warn","Subtotal","history","useNavigate","renderText","decimalScale","displayType","thousandSeparator","prefix","e","CheckoutProduct","hideButton","Checkout","Login","setEmail","password","setPassword","onChange","target","preventDefault","signInWithEmailAndPassword","then","catch","error","alert","message","createUserWithEmailAndPassword","log","instance","axios","create","baseURL","Payment","stripe","useStripe","elements","useElements","setSucceeded","setProcessing","setError","setDisabled","clientSecret","setClientSecret","useEffect","a","method","url","response","data","getClientSecret","handleSubmit","event","userColl","collection","userDoc","doc","uid","userColl2","userDoc2","setDoc","created","confirmCardPayment","payment_method","card","getElement","CardElement","paymentIntent","onSubmit","empty","Orders","orders","setOrders","dbColl","userOrder","orderBy","onSnapshot","snapshot","docs","debounce","order","promise","loadStripe","App","onAuthStateChanged","authUser","path","element","ReactDOM","render","StrictMode","document","getElementById","module","exports"],"mappings":"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","file":"static/js/main.acbd7287.chunk.js","sourcesContent":["import React, {createContext, useContext, useReducer} from \"react\"\r\n\r\n\r\n//Prepares the datalayer\r\nexport const StateContext = createContext();\r\n\r\n//Wrap our app and provide the Data Layer\r\nexport const StateProvider = ({reducer, initialState, children}) => (\r\n    <StateContext.Provider value={useReducer(reducer, initialState)}>\r\n        {children}\r\n    </StateContext.Provider>\r\n);\r\n\r\n//Pull information from the data layer\r\nexport const useStateValue = () => useContext(StateContext)","// Import the functions you need from the SDKs you need\r\nimport { initializeApp } from \"firebase/app\";\r\nimport { getAnalytics } from \"firebase/analytics\";\r\nimport {getAuth} from \"firebase/auth\"\r\nimport {getFirestore} from \"firebase/firestore\"\r\nimport {collection, doc, setDoc, orderBy, onSnapshot} from \"firebase/firestore\"\r\nimport \"firebase/firestore\"\r\n\r\n// TODO: Add SDKs for Firebase products that you want to use\r\n// https://firebase.google.com/docs/web/setup#available-libraries\r\n\r\n// Your web app's Firebase configuration\r\n// For Firebase JS SDK v7.20.0 and later, measurementId is optional\r\nconst firebaseConfig = {\r\n  apiKey: \"AIzaSyD5ezQuNgBQI0nkS1JHt7PHxXUxOjaQtxE\",\r\n  authDomain: \"clone-c5d17.firebaseapp.com\",\r\n  projectId: \"clone-c5d17\",\r\n  storageBucket: \"clone-c5d17.appspot.com\",\r\n  messagingSenderId: \"1008482593023\",\r\n  appId: \"1:1008482593023:web:1115370fedc3a360af04ca\",\r\n  measurementId: \"G-8WRGNBNK2T\"\r\n};\r\n\r\n// Initialize Firebase\r\nconst app = initializeApp(firebaseConfig);\r\nconst analytics = getAnalytics(app);\r\n\r\nconst db = getFirestore(app)\r\n//const db = app.getFirestore()\r\nconst auth = getAuth (app)\r\n\r\nexport {db, auth, collection, doc, setDoc, orderBy, onSnapshot}","import React from 'react'\r\nimport \"./Header.css\"\r\nimport SearchIcon from \"@material-ui/icons/Search\";\r\nimport ShoppingBasketIcon from \"@material-ui/icons/ShoppingBasket\"\r\nimport { Link } from 'react-router-dom';\r\nimport { useStateValue } from './StateProvider';\r\nimport { auth } from '../firebase';\r\n\r\nfunction Header() {\r\n    const[{basket, user}, dispatch] = useStateValue();\r\n\r\n    const handleAuthentication = () => {\r\n        if(user){\r\n            auth.signOut();\r\n        }\r\n    }\r\n\r\n    return (\r\n        <div className=\"header\">\r\n            <Link to=\"/\">\r\n                <img \r\n                    src=\"https://pngimg.com/uploads/amazon/amazon_PNG11.png\"\r\n                    alt=\"\"\r\n                    className=\"header__logo\"\r\n                />\r\n            </Link>\r\n\r\n            <div \r\n                className=\"header__search\">\r\n                <input className=\"header__searchInput\" type=\"text\"/>\r\n                <SearchIcon\r\n                className=\"header__searchIcon\" />\r\n                {/*logo*/}\r\n            </div>\r\n\r\n            <div className=\"header__nav\">\r\n\r\n                <Link to={!user && \"/login\"}>\r\n                    <div onClick={handleAuthentication} className=\"header__option\">\r\n                        <span className=\"header__optionLineOne\">\r\n                            Hello {!user? \"Guest\" : user.email}\r\n                        </span>\r\n                        <span className=\"header__optionLineTwo\">\r\n                            {user? \"Sign Out\" : \"Sign In\"}\r\n                        </span>\r\n                    </div>\r\n                </Link>\r\n                 \r\n                 \r\n                 <Link to=\"/orders\">\r\n                 <div className=\"header__option\">\r\n                    <span className=\"header__optionLineOne\">\r\n                         Returns\r\n                    </span>\r\n                    <span className=\"header__optionLineTwo\">\r\n                         Orders\r\n                    </span>\r\n                 </div>\r\n                 </Link>\r\n\r\n                 <div className=\"header__option\">\r\n                    <span className=\"header__optionLineOne\">\r\n                         Your\r\n                    </span>\r\n                    <span className=\"header__optionLineTwo\">\r\n                         Prime\r\n                    </span>\r\n                 </div>\r\n\r\n                <Link to=\"/checkout\">\r\n                    <div className=\"header__optionBasket\">\r\n                        <ShoppingBasketIcon />\r\n                        <span className=\"header__optionLineTwo header__basketCount\">{basket?.length}</span>\r\n                    </div>\r\n                </Link>\r\n                 \r\n            </div>\r\n\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Header\r\n","import React from 'react'\r\nimport \"./Product.css\"\r\nimport { useStateValue } from './StateProvider';\r\n\r\nfunction Product({id, title, image, price, rating}) {\r\n\r\n    const [{basket}, dispatch] = useStateValue();\r\n    const addToBasket = () =>{\r\n        //dispatch the item into the data layer\r\n        dispatch({\r\n            type: \"ADD_TO_BASKET\",\r\n            item: {\r\n                id: id,\r\n                title: title,\r\n                image: image,\r\n                price: price,\r\n                rating: rating,\r\n            }\r\n        })\r\n    }\r\n    return (\r\n        <div className=\"product\">\r\n            <div className=\"product__info\">\r\n                <p>{title}</p>\r\n                <p className=\"product__price\">\r\n                    <small>$</small>\r\n                    <strong>{price}</strong>\r\n                </p>\r\n\r\n                <div className=\"product__rating\">\r\n                    {Array(rating)\r\n                        .fill()\r\n                        .map((_, i)=>(\r\n                            <p>⭐</p>\r\n                    ))}\r\n  \r\n                </div>\r\n            </div>\r\n\r\n            <img src={image} alt=\"\" />\r\n\r\n            <button onClick={addToBasket}>Add to Basket</button>\r\n           \r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Product\r\n","export default [\r\n    \"\",\r\n    \"https://m.media-amazon.com/images/I/61DUO0NqyyL._SX3000_.jpg\",\r\n    \"https://m.media-amazon.com/images/I/711Y9Al9RNL._SX3000_.jpg\",\r\n    \"https://m.media-amazon.com/images/I/61jovjd+f9L._SX3000_.jpg\",\r\n    \"https://static6.depositphotos.com/1086013/578/i/450/depositphotos_5786214-stock-photo-modern-kitchen-in-luxury-mansion.jpg\",\r\n    \"https://m.media-amazon.com/images/I/71qid7QFWJL._SX3000_.jpg\",\r\n    \"https://m.media-amazon.com/images/I/6138dCMwqPL._SX3000_.jpg\"\r\n  ];\r\n  ","import { Slide } from \"react-slideshow-image\";\r\n\r\nimport slideImages from \"../../data/images\";\r\n\r\nimport \"react-slideshow-image/dist/styles.css\";\r\nimport styles from \"./Slider.module.css\";\r\n\r\nexport default function Slider() {\r\n  return (\r\n    \r\n    <div className={styles.container}>\r\n      <Slide className=\"slider\" easing=\"ease\">\r\n        {slideImages.map((slide, index) => {\r\n          return (\r\n            <div className={styles.slide} key={slide}>\r\n              <div style={{ backgroundImage: `url(${slideImages[index + 1 ]})` }}>\r\n                \r\n                \r\n              </div>\r\n              \r\n            </div>\r\n          );\r\n        })}\r\n      </Slide>\r\n      \r\n    </div>\r\n    \r\n    \r\n  );\r\n}\r\n","import React, {useState} from 'react'\r\nimport \"./Home.css\"\r\nimport Product from \"./Product\"\r\nimport Slider from \"./slider/Slider\"\r\nimport {SliderData} from \"./SliderData\"\r\n\r\n\r\n\r\n\r\nfunction Home() {\r\n\r\n    const [current, setCurrent] = useState(0);\r\n    //const length = slides.length;\r\n    return (\r\n        <div>\r\n\r\n            <Slider />\r\n        <div className=\"home\">\r\n           \r\n            <div className=\"home__container\">\r\n                \r\n            <div className=\"home__row\">\r\n                <Product \r\n                    id=\"1\"\r\n                    title=\"BENGOO G9000 Stereo Gaming Headset for PS4 PC Xbox One PS5 Controller, Noise Cancelling Over Ear Headphones with Mic, LED Light, Bass Surround, Soft Memory Earmuffs for Laptop Mac Nintendo NES Games\"\r\n                    price={31.99}\r\n                    image=\"https://m.media-amazon.com/images/I/61CGHv6kmWL._AC_UY218_.jpg\"\r\n                    rating={4}/>\r\n                <Product \r\n                    id=\"1\"\r\n                    title=\"Baby Registry Welcome Box\"\r\n                    price={16.99}\r\n                    image=\"https://m.media-amazon.com/images/I/41U2bOJ+lEL._AC_UL320_.jpg\"\r\n                    rating={3}/>\r\n                \r\n            </div>\r\n\r\n            <div className=\"home__row\">\r\n                <Product \r\n                    id=\"1\"\r\n                    title=\"Smart Watch 2022(Call Receive/Dial), 1.70 in HD Full Touch Screen Smartwatch Fitness Tracker with Call/Text/Heart Rate (Black)\"\r\n                    price={65.99}\r\n                    image=\"https://images-na.ssl-images-amazon.com/images/I/61YYNEvkCzL.__AC_SX300_SY300_QL70_FMwebp_.jpg\"\r\n                    rating={5}/>\r\n                <Product \r\n                    id=\"1\"\r\n                    title=\"65.6ft Led Lights for Bedroom dalattin Led Strip Lights Color Changing Lights with 44 Keys Remote,2 Rolls of 32.8ft\"\r\n                    price={17.99}\r\n                    image=\"https://images-na.ssl-images-amazon.com/images/I/81tI0auKmTL.__AC_SX300_SY300_QL70_FMwebp_.jpg\"\r\n                    rating={4}/>\r\n                <Product \r\n                    id=\"1\"\r\n                    title=\"8-Level Magnetic Resistance Exercise Bike Desk, Office Desk Workstation W/ Adjustable Desk & Leather Seat, Exercise Bikes With Desk W/ Build-In LCD Monitor, Home Exerwork Bike Max 285 Lbs\"\r\n                    price={239.99}\r\n                    image=\"https://m.media-amazon.com/images/I/51D0uVBZRuS._AC_UL320_.jpg\"\r\n                    rating={4}/>\r\n                {/*Product*/}\r\n                {/*Product*/}\r\n            </div>\r\n\r\n            <div className=\"home__row\">\r\n                <Product \r\n                    id=\"1\"\r\n                    title=\"FITUEYES Height Adjustable Standing Desk Converter 32” Wide Sit to Stand Desk Tabletop Workstation, Black, SD308001WB\"\r\n                    price={119.99}\r\n                    image=\"https://m.media-amazon.com/images/I/51Z4mzo+NKS._AC_SR160,160_.jpg\"\r\n                    rating={5}/>\r\n                <Product \r\n                    id=\"1\"\r\n                    title=\"Apple iPhone 11 Pro, US Version, 64GB, Silver - Unlocked (Renewed)\"\r\n                    price={469.99}\r\n                    image=\"https://images-na.ssl-images-amazon.com/images/I/81Jf4uu-xzL.__AC_SX300_SY300_QL70_FMwebp_.jpg\"\r\n                    rating={4}/>\r\n                <Product \r\n                    id=\"1\"\r\n                    title=\"Calvin Klein Women's 2 Pack French Terry Joggers\"\r\n                    price={31.99}\r\n                    image=\"https://m.media-amazon.com/images/I/51cdq8ZovBL._AC_UL320_.jpg\"\r\n                    rating={5}/>\r\n                <Product \r\n                    id=\"1\"\r\n                    title=\"Oculus Link Virtual Reality Headset Cable for Quest 2 and Quest - 16FT (5M) - PC VR\"\r\n                    price={78.99}\r\n                    image=\"https://images-na.ssl-images-amazon.com/images/I/21JY-ntng7L._SX300_SY300_QL70_FMwebp_.jpg\"\r\n                    rating={5}/>\r\n            </div>\r\n\r\n            <div className=\"home__row\">\r\n                <Product \r\n                    id=\"1\"\r\n                    title=\"KGEZW Puppy Dog Cat Clothes Harness Leash Set Pet Harness Vest Dress for Small Medium Dogs Cats Chihuahua Dogs Cat Skirt Pet Supplies\"\r\n                    price={39.99}\r\n                    image=\"https://m.media-amazon.com/images/I/51YlAawuwpL._AC_UL320_.jpg\"\r\n                    rating={5}/>\r\n                <Product \r\n                    id=\"1\"\r\n                    title=\"BARKBAY Dog Harness, no Pull Dog Harness with 2 Leash Clips and Large ID Tag Pocket,Dog Harness Medium Large with Adjustable Soft Padded, Reflective No-Choke Dog Vest with Easy Control Handle(Blue,L)\"\r\n                    price={229.99}\r\n                    image=\"https://images-na.ssl-images-amazon.com/images/I/714jFNxPZXS.__AC_SX300_SY300_QL70_FMwebp_.jpg\"\r\n                    rating={5}/>\r\n                <Product \r\n                    id=\"1\"\r\n                    title=\"Oculus Quest 2 — Advanced All-In-One Virtual Reality Headset — 256 GB\"\r\n                    price={339.99}\r\n                    image=\"https://m.media-amazon.com/images/I/61kwRNPtMpL._AC_UL320_.jpg\"\r\n                    rating={5}/>\r\n            </div>\r\n\r\n            <div className=\"home__row\">\r\n                <Product \r\n                    id=\"1\"\r\n                    title=\"Seagate Portable 2TB External Hard Drive Portable HDD – USB 3.0 for PC, Mac, PlayStation, & Xbox - 1-Year Rescue Service (STGX2000400)\"\r\n                    price={59.99}\r\n                    image=\"https://m.media-amazon.com/images/I/81tjLksKixL._AC_UL320_.jpg\"\r\n                    rating={4}/>\r\n                <Product \r\n                    id=\"1\"\r\n                    title=\"AA Products Gaming Chair High Back Ergonomic Computer Racing Chair Adjustable Gamer Chair with Footrest, Lumbar Support Swivel Chair – BlackPurple\"\r\n                    price={169.99}\r\n                    image=\"https://m.media-amazon.com/images/I/61GJAM+cYxL._AC_UL320_.jpg\"\r\n                    rating={5}/>\r\n                \r\n            </div>\r\n\r\n            <div className=\"home__row\">\r\n                <Product \r\n                    id=\"1\"\r\n                    title=\"HP 24mh FHD Monitor - Computer Monitor with 23.8-Inch IPS Display (1080p) - Built-In Speakers and VESA Mounting - Height/Tilt Adjustment for Ergonomic Viewing - HDMI and DisplayPort - (1D0J9AA#ABA)\"\r\n                    price={226.99}\r\n                    image=\"https://m.media-amazon.com/images/I/91fAU6mxFsL._AC_UL320_.jpg\"\r\n                    rating={5}/>\r\n            </div>\r\n            </div>\r\n\r\n            \r\n        </div>\r\n        \r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Home\r\n","import React from 'react'\r\nimport Header from \"./Header\"\r\nimport Home from \"./Home\"\r\n\r\nfunction Homepage() {\r\n  return (\r\n    <div>\r\n        <Header />\r\n        <Home/>\r\n        \r\n    </div>);\r\n}\r\n\r\nexport default Homepage;\r\n\r\n\r\n\r\n\r\n\r\n","export const initialState = {\r\n    basket: [],\r\n    user: null\r\n};\r\n\r\n//Selector\r\nexport const getBasketTotal = (basket) =>\r\n    basket?.reduce((amount, item) => item.price + amount, 0)\r\n\r\nconst reducer = (state, action) =>{\r\n    switch(action.type) {\r\n        case \"ADD_TO_BASKET\":\r\n            return {\r\n                ...state,\r\n                basket: [...state.basket, action.item],\r\n            };\r\n\r\n        case \"EMPTY_BASKET\":\r\n            return {\r\n                ...state,\r\n                basket: []\r\n            }\r\n\r\n        case \"REMOVE_FROM_BASKET\":\r\n            const index = state.basket.findIndex(\r\n                (basketItem) => basketItem.id === action.id\r\n            );\r\n            let newBasket = [...state.basket];\r\n\r\n            if (index >= 0){\r\n                newBasket.splice(index, 1);\r\n            }else{\r\n                console.warn(\r\n                    `Can't remove product (id: ${action.id}) as its not in basket `\r\n                )\r\n            }\r\n\r\n            return{\r\n                ...state, \r\n                basket: newBasket\r\n            }\r\n\r\n            case \"SET_USER\":\r\n                return{\r\n                    ...state,\r\n                    user: action.user\r\n                }\r\n\r\n            default:\r\n                return state;\r\n    }\r\n}\r\n\r\nexport default reducer;","import React from 'react';\r\nimport \"./Subtotal.css\"\r\nimport CurrencyFormat from \"react-currency-format\";\r\nimport { useStateValue } from './StateProvider';\r\nimport { getBasketTotal } from './reducer';\r\nimport { useNavigate } from 'react-router-dom';\r\n\r\nconst Subtotal = () => {\r\n    const history = useNavigate()\r\n    const [{basket}, dispatch] = useStateValue();\r\n\r\n  return (\r\n    <div className=\"subtotal\">\r\n        <CurrencyFormat\r\n            renderText={(value)=>(\r\n                <>\r\n                    <p>\r\n                        Subtotal ({basket.length} items):\r\n                        <strong>{value}</strong>\r\n                    </p>\r\n                    <small className=\"subtotal__gift\">\r\n                        <input type=\"checkbox\" /> This order \r\n                        contains a gift\r\n                    </small>\r\n                    </>\r\n            \r\n            )}\r\n            decimalScale={2}\r\n            value={getBasketTotal(basket)}\r\n            displayType={\"text\"}\r\n            thousandSeparator={true}\r\n            prefix={\"$\"}\r\n            />\r\n\r\n            <button onClick={e => history(\"/payment\")}>Proceed to Checkout</button>\r\n\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Subtotal;\r\n","import React from 'react'\r\nimport \"./CheckoutProduct.css\"\r\nimport { useStateValue } from './StateProvider';\r\n\r\nconst CheckoutProduct = ({id, image, title, price, rating, hideButton}) => {\r\n\r\n    const [{basket}, dispatch] = useStateValue();\r\n\r\n    const removeFromBasket = () =>{\r\n\r\n        //remove item from the basket\r\n        dispatch({\r\n            type: \"REMOVE_FROM_BASKET\",\r\n            id: id\r\n        })\r\n    }\r\n\r\n  return (\r\n    <div className=\"checkoutProduct\">\r\n        <img className=\"checkoutProduct__image\" src={image} alt=\"\" />\r\n\r\n        <div className=\"checkoutProduct__info\">\r\n            <p className=\"checkoutProduct__title\">{title}</p>\r\n            <p className=\"checkoutProduct__price\">\r\n                <small>$</small>\r\n                <strong>{price}</strong>\r\n            </p>\r\n            <div className='checkoutProduct__rating'>\r\n                {Array(rating)\r\n                .fill()\r\n                .map((_, i) =>(\r\n                    <p>⭐</p>\r\n                ))}\r\n            </div>\r\n            {!hideButton && (\r\n                <button onClick={removeFromBasket}>Remove from Basket</button>\r\n            )}\r\n            \r\n        </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default CheckoutProduct\r\n","import React from \"react\";\r\nimport Header from \"./Header\"\r\nimport \"./Checkout.css\"\r\nimport Subtotal from \"./Subtotal\"\r\nimport CheckoutProduct from \"./CheckoutProduct\";\r\nimport { getBasketTotal } from \"./reducer\";\r\nimport { useStateValue } from \"./StateProvider\";\r\n\r\nfunction Checkout() {\r\n  const [{basket, user}, dispatch] = useStateValue();\r\n  return (\r\n      <div>\r\n\r\n        <Header />\r\n\r\n        <div className=\"checkout\">\r\n            <div className=\"checkout__left\">\r\n                <img className=\"checkout__ad\" src=\"https://images-na.ssl-images-amazon.com/images/G/01/GiftCards/Consumer/multi-product/Valentines_Day/TrafficDrivers/BGC/VD22_GCLP_1024x90_US_EN.jpg\" alt=\"Amazon-ad\" />\r\n\r\n              <div>\r\n                <h3>Hello, {!user? \"Guest\": user.email}</h3>\r\n                <h2 className=\"checkout__title\">\r\n                  Your Shopping Basket\r\n                </h2>\r\n\r\n                {basket.map(item =>\r\n                  <CheckoutProduct\r\n                    id={item.id}\r\n                    title={item.title}\r\n                    image={item.image}\r\n                    price={item.price}\r\n                    rating={item.rating}\r\n                    />)}\r\n              \r\n                \r\n\r\n              </div>\r\n            </div>\r\n\r\n            <div className=\"checkout__right\">\r\n            \r\n              <Subtotal />\r\n            </div>\r\n        </div>\r\n      </div>\r\n    );\r\n}\r\n\r\nexport default Checkout;\r\n","import React, { useState } from 'react'\r\nimport \"./Login.css\"\r\nimport { Link, useNavigate} from 'react-router-dom'\r\nimport { auth } from '../firebase'\r\nimport { createUserWithEmailAndPassword, signInWithEmailAndPassword } from 'firebase/auth'\r\n\r\n\r\n\r\nconst Login = () => {\r\n    const history = useNavigate()\r\n    const [email, setEmail] = useState(\"\")\r\n    const [password, setPassword] = useState(\"\")\r\n    const signIn = e =>{\r\n        e.preventDefault();\r\n\r\n        //signin\r\n        signInWithEmailAndPassword(auth, email, password)\r\n        .then(auth => {\r\n            history(\"/\")\r\n        })\r\n        .catch(error => alert(error.message))\r\n\r\n    }\r\n    const register = e =>{\r\n        e.preventDefault();\r\n\r\n        //auth\r\n        createUserWithEmailAndPassword(auth, email, password)\r\n            .then((auth) =>{\r\n                console.log(auth)\r\n                if(auth){\r\n                    history(\"/\")\r\n                }\r\n            })\r\n            .catch(error => alert(error.message))\r\n    }\r\n\r\n  return (\r\n    <div className=\"login\">\r\n        <Link to=\"/\">\r\n            <img className=\"login__logo\" src=\"https://upload.wikimedia.org/wikipedia/commons/thumb/a/a9/Amazon_logo.svg/1024px-Amazon_logo.svg.png\" alt=\"\" />\r\n        </Link>\r\n\r\n        <div className=\"login__container\">\r\n            <h1>Sign-in</h1>\r\n            <form>\r\n                <h5>\r\n                    E-mail\r\n                    \r\n                </h5>\r\n                <input type=\"text\" value={email} onChange={e => setEmail(e.target.value)}/>\r\n\r\n                <h5>Password</h5>\r\n                <input type=\"password\" value={password} onChange={e => setPassword(e.target.value)}/>\r\n\r\n                <button type=\"submit\" onClick={signIn} className=\"login__signInButton\">Sign In</button>\r\n            </form>\r\n\r\n            <p>\r\n                B signing in you agree to Edward's Amazon\r\n                Clone Conditions of Use & Sale, Please\r\n                use our Privacy Notice, out Cookies Noticeand our Interest-Based Ads\r\n            </p>\r\n\r\n            <button onClick={register} className=\"login__registerButton\">Create your Amazon Account</button>\r\n        </div>\r\n        \r\n\r\n        \r\n        \r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Login","import axios from \"axios\";\r\n\r\nconst instance = axios.create({\r\n    baseURL: \"http://localhost:5001/clone-c5d17/us-central1/api\" //The API cloud function URL\r\n});\r\n\r\nexport default instance\r\n\r\n ","import React, { useEffect, useState } from 'react'\r\nimport { Link, useNavigate } from 'react-router-dom';\r\nimport CheckoutProduct from './CheckoutProduct';\r\nimport Header from './Header'\r\nimport { getBasketTotal } from './reducer'\r\nimport { useStateValue } from './StateProvider';\r\nimport \"./Payment.css\"\r\nimport {CardElement, useStripe, useElements} from \"@stripe/react-stripe-js\"\r\nimport CurrencyFormat from \"react-currency-format\"\r\nimport axios from './axios';\r\nimport { db } from '../firebase';\r\nimport {collection, doc, setDoc} from \"../firebase\"\r\n\r\nconst Payment = () => {\r\n    const [{basket, user}, dispatch] = useStateValue();\r\n    const history = useNavigate()\r\n\r\n\r\n    const stripe = useStripe();\r\n    const elements = useElements();\r\n\r\n    const [succeeded, setSucceeded] = useState(false);\r\n    const [processing, setProcessing] = useState(\"\")\r\n    const [error, setError] = useState(null);\r\n    const [disabled, setDisabled] = useState(true);\r\n    const [clientSecret, setClientSecret] = useState(true);\r\n\r\n    \r\n    useEffect(() => {\r\n        const getClientSecret = async () =>{\r\n            const response = await axios({\r\n                method: \"post\",\r\n                //Stripe expects the total in a currencies subunits for $ it expects cents\r\n                url: `/payments/create?total=${getBasketTotal(basket) * 100}`\r\n            });\r\n            setClientSecret(response.data.clientSecret)\r\n        }\r\n\r\n        getClientSecret();\r\n\r\n    }, [basket])\r\n\r\n    console.log(\"The secret is >>>\", clientSecret)\r\n\r\n    \r\n    const handleSubmit = async (event) =>{\r\n        //do all the fancy stripe stuff\r\n        event.preventDefault();\r\n\r\n        console.log(\"About to console.log the db\")\r\n\r\n        const userColl = collection(db, 'users')\r\n        const userDoc = doc(userColl, user?.uid)\r\n        const userColl2 = collection(userDoc, \"orders\")\r\n        const userDoc2 = doc(userColl2, \"12456666\")\r\n        setDoc(userDoc2, {\r\n            basket: basket,\r\n            amount: 300,\r\n            created: \"Today\"\r\n        })\r\n\r\n        setProcessing(true);\r\n        const payload = await stripe.confirmCardPayment(clientSecret, {\r\n            payment_method: {\r\n                card: elements.getElement(CardElement)\r\n            }\r\n        }).then(({paymentIntent}) =>{\r\n            //paymentIntent = payment confirmation\r\n            console.log(\"About to console.log the db\")\r\n\r\n            const userColl = collection(db, 'users')\r\n            const userDoc = doc(userColl, user?.uid)\r\n            const userColl2 = collection(userDoc, \"orders\")\r\n            const userDoc2 = doc(userColl2, paymentIntent.id)\r\n            setDoc(userDoc2, {\r\n                basket: basket,\r\n                amount: paymentIntent.amount,\r\n                created: paymentIntent.created\r\n            })\r\n            \r\n           \r\n            console.log(\"The useDoc2 coll is \", userDoc2)\r\n\r\n\r\n            /*\r\n            db\r\n            .collection(\"users\")\r\n            .doc(user?.uid)\r\n            .collection(\"orders\")\r\n            .doc(paymentIntent.id)\r\n            .set({\r\n                basket: basket,\r\n                amount: paymentIntent.amount,\r\n                created: paymentIntent.created,\r\n            })*/\r\n\r\n            setSucceeded(true);\r\n            setError(null);\r\n            setProcessing(false)\r\n\r\n            dispatch({\r\n                type: \"EMPTY_BASKET\"\r\n            })\r\n\r\n            history(\"/orders\")\r\n        })\r\n\r\n    }\r\n\r\n    const handleChange = event =>{\r\n        //do all the stripe change stuff\r\n        setDisabled(event.empty);\r\n        setError(event.error ? event.error.message : \"\")\r\n    }\r\n    \r\n\r\n  return (\r\n    <div>\r\n        <Header />\r\n\r\n        <div className=\"payment\">\r\n            \r\n            <div className=\"payment__container\">\r\n                <h1>\r\n                    Checkout (<Link to=\"/checkout\">{basket?.length} items</Link>)\r\n                </h1>\r\n                {/*Payment section - delivery address */}\r\n                <div className=\"payment__section\">\r\n                    <div className=\"payment__title\">\r\n                        <h3>Delivery Address</h3>\r\n                    </div>\r\n                    <div className=\"payment__address\">\r\n                        <p>{!user? \"Guest\" : user.email}</p>\r\n                        <p>123 React Street</p>\r\n                        <p>South Africa</p>\r\n                    </div>\r\n                </div>\r\n\r\n                {/*Payment section - Review items*/}\r\n                <div className=\"payment__section\">\r\n                    <div className=\"payment__title\">\r\n                        <h3>Review items and delivery</h3>\r\n                    </div>\r\n                    <div className=\"payment__items\">\r\n                        {basket.map(item=>(\r\n                            <CheckoutProduct\r\n                                id={item.id}\r\n                                title={item.title}\r\n                                image={item.image}\r\n                                price={item.price}\r\n                                rating={item.rating}\r\n                            />\r\n                        ))}\r\n                    </div>\r\n\r\n                </div>\r\n\r\n                {/*Payment section - Payment method */}\r\n                <div className=\"payment__section\">\r\n                    <div className=\"payment__title\">\r\n                        <h3>Payment Method</h3>\r\n                    </div>\r\n                    <div className=\"payment__items\">\r\n                        {/* Stripe code goes here*/}\r\n                        \r\n                        <form onSubmit={handleSubmit}>\r\n                            <CardElement onChange={handleChange}/>\r\n\r\n                            <div className=\"payment__priceContainer\">\r\n                                <CurrencyFormat\r\n                                    renderText={(value)=>(\r\n                                        <h3>Order Total: {value}</h3>\r\n                                        \r\n            \r\n                                )}\r\n                                decimalScale={2}\r\n                                value={getBasketTotal(basket)}\r\n                                displayType={\"text\"}\r\n                                thousandSeparator={true}\r\n                                prefix={\"$\"}\r\n                                />\r\n                                <button type=\"submit\">\r\n                                    Order Now\r\n                                </button>\r\n                                {/* \r\n                                <button disabled={processing || disabled || succeeded}>\r\n                                    <span>{processing ? <p>Processing</p>:\r\n                                    \"Buy Now\"}</span>\r\n                                </button>\r\n                                */}\r\n                            </div>\r\n                                \r\n                                {/*error && <div>{error}</div>*/}\r\n                            \r\n\r\n                        </form>\r\n                        \r\n                    </div>\r\n\r\n\r\n                </div>\r\n\r\n            </div>\r\n        </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Payment","import { debounce } from '@material-ui/core'\r\nimport React, { useEffect, useState } from 'react'\r\nimport { db } from '../firebase'\r\nimport Header from './Header'\r\nimport Order from './Order'\r\nimport \"./Orders.css\"\r\nimport { useStateValue } from './StateProvider'\r\nimport {collection, doc, setDoc, orderBy, onSnapshot} from \"../firebase\"\r\n\r\nconst Orders = () => {\r\n  const [{basket, user}, dispatch] = useStateValue();\r\n  const [orders, setOrders] = useState();\r\n\r\n  useEffect(() => {\r\n    if(user){\r\n      console.log(\"Done\")\r\n    \r\n      const dbColl = collection(db, \"users\")\r\n      const userDoc = doc(dbColl, user?.uid)\r\n      const userColl2 = collection(userDoc, \"orders\")\r\n      const userOrder = (userColl2, orderBy(\"created\", \"desc\"))\r\n      \r\n      console.log(\"userOrder\", userOrder)\r\n      \r\n      onSnapshot(userOrder, snapshot => {\r\n        setOrders(snapshot.docs.map(doc => ({\r\n          \r\n          id: debounce.id,\r\n          data: doc.data()\r\n        })))\r\n      })\r\n\r\n      console.log(\"Done Order\")\r\n    \r\n     \r\n\r\n      /*\r\n      db\r\n      .collection(\"users\")\r\n      .doc(user?.uid)\r\n      .collection(\"orders\")\r\n      .orderBy(\"created\", \"desc\")\r\n      .onSnapshot(snapshot =>{\r\n        setOrders(snapshot.docs.map(doc => ({\r\n          id: debounce.id,\r\n          data: doc.data()\r\n        })))\r\n      })\r\n      */\r\n\r\n    } else{\r\n      setOrders([])\r\n    }\r\n    \r\n\r\n  }, [user])\r\n  return (\r\n\r\n    <div>\r\n        <Header />\r\n        <div className=\"orders\">\r\n            <h1>Your Orders</h1>\r\n\r\n            <div className=\"orders__order\">\r\n              {orders?.map(order =>{\r\n                <Order order={order} />\r\n              })}\r\n            </div>\r\n        </div>\r\n        \r\n        \r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Orders","import React, { useEffect } from \"react\"\r\n//import Header from \"./Header\";\r\nimport Homepage from \"./Homepage\";\r\nimport {BrowserRouter, Routes,  Route} from \"react-router-dom\"\r\n//import Switch from \"react-switch\";\r\nimport \"./App.css\"\r\nimport Checkout from \"./Checkout\";\r\nimport Login from \"./Login\";\r\nimport { auth } from \"../firebase\";\r\nimport { useStateValue } from \"./StateProvider\";\r\nimport Payment from \"./Payment\";\r\nimport {loadStripe} from \"@stripe/stripe-js\"\r\nimport {Elements} from \"@stripe/react-stripe-js\"\r\nimport Orders from \"./Orders\";\r\n\r\nconst promise = loadStripe(\"pk_test_51KBLTNFSD7gldMG8Zs3a1HVHmjtWBsXpfb0AxfkpCadEXl8kafTjxc3EtwBpUGk0NctzpF4q9wLXNb6Gv4sfYylx00vVNvG32x\")\r\n\r\n\r\n\r\n\r\nconst App = () => {\r\n    const [{}, dispatch] = useStateValue();\r\n    \r\n    useEffect(() => {\r\n        //Will only run once when the app component loads...\r\n        auth.onAuthStateChanged(authUser => {\r\n            console.log(\"User is >>>\", authUser);\r\n\r\n            if(authUser){\r\n                //The user just logged in / the user was logged in\r\n                dispatch({\r\n                    type: \"SET_USER\",\r\n                    user: authUser\r\n                })\r\n\r\n\r\n            } else{ \r\n                //The user is logged out \r\n                dispatch({\r\n                    type: \"SET_USER\",\r\n                    user: null\r\n                })\r\n            }\r\n\r\n        })\r\n    }, [])\r\n\r\n    return (\r\n\r\n        <div>\r\n            \r\n            <BrowserRouter>\r\n                <Routes>\r\n                    <Route path=\"/\" element={<Homepage />} />\r\n                </Routes>\r\n                <Routes>\r\n                    <Route path=\"/checkout\" element={<Checkout />} />\r\n                </Routes>\r\n                <Routes>\r\n                    <Route path=\"/login\" element={<Login />} />\r\n                </Routes>\r\n\r\n                <Routes>\r\n                    <Route path=\"/orders\" element={<Orders />} />\r\n                </Routes>\r\n                 \r\n                <Routes>\r\n                   \r\n                        <Route path=\"/payment\" element={ <Elements stripe={promise}><Payment /></Elements> } />\r\n                    \r\n                </Routes>\r\n            </BrowserRouter>  \r\n        </div>\r\n        \r\n        \r\n    )\r\n}\r\n\r\nexport default App","import React from \"react\"\nimport ReactDOM from \"react-dom\"\nimport App from \"./components/App.js\"\nimport { StateProvider } from \"./components/StateProvider.js\"\nimport \"./styles/global.css\";\nimport {initialState} from \"./components/reducer\"\nimport reducer from \"./components/reducer.js\"\n\nReactDOM.render(\n    <React.StrictMode>\n        <StateProvider initialState={initialState} reducer={reducer}>\n            <App />\n        </StateProvider>\n    </React.StrictMode>\n    , document.getElementById(\"root\"));\n\n\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"Slider_container__12V4A\",\"slide\":\"Slider_slide__3orBl\"};"],"sourceRoot":""}